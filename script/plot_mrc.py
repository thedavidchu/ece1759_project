import json
from typing import Dict, Union
import matplotlib.pyplot as plt

INFINITY = float("inf")

def decode_json_histogram(
        histogram_text: Union[str, Dict[str, Union[float, int]]]
) -> Dict[float, Union[int, float]]:
    if isinstance(histogram_text, str):
        histogram = json.loads(histogram_text)
    histogram = {float(key): value for key, value in histogram.items() if value > 0 and key != INFINITY}
    return histogram

def input_histogram() -> Dict[float, Union[int, float]]:
    while True:
        histogram_text = input()
        # NOTE  We assume that there will only be a single JSON. This will be
        #       only line that starts with the character '{' and the entire
        #       JSON string will be on a single line.
        if histogram_text.startswith(r"{"):
            break
    histogram = decode_json_histogram(histogram_text)
    return histogram

def plot_histogram(histogram: Dict[float, Union[float, int]]):
    plt.figure()
    plt.title("Histogram")
    plt.xlabel("Reuse Stack Distance")
    plt.ylabel("Frequency")
    plt.plot(histogram.keys(), histogram.values())
    plt.savefig("histogram.png")

def plot_miss_rate_curve(histogram: Dict[float, Union[float, int]]):
    running_total = 0
    total = sum(histogram.values())
    mrc = {}
    for key, value in histogram.items():
        running_total += value
        mrc[key] = 1 - running_total / total
    plt.figure()
    plt.title("Miss-Rate Curve")
    plt.xlabel("Number of key-value pairs")
    plt.ylabel("Miss-rate")
    plt.plot(mrc.keys(), mrc.values())
    plt.savefig("mrc.png")

def main():
    from_input = False
    if from_input:
        histogram = input_histogram()
    else:
        histogram = {
            "0": 0.066667, "1": 0.066667, "2": 0.066667, "3": 0.066667, "4": 0.066667, "5": 0.066667, "6": 0.066667, "7": 0.066667, "8": 0.209524, "9": 0.276190, "10": 0.276190, "11": 0.276190, "12": 0.276190, "13": 0.276190, "14": 0.359524, "15": 0.150000, "16": 0.150000, "17": 0.150000, "18": 0.150000, "19": 0.150000, "20": 0.150000, "21": 0.150000, "22": 0.150000, "23": 0.364286, "24": 0.297619, "25": 0.297619, "26": 0.214286, "27": 0.214286, "28": 0.214286, "29": 0.315296, "30": 0.172439, "31": 0.172439, "32": 0.172439, "33": 0.172439, "34": 0.172439, "35": 0.172439, "36": 0.172439, "37": 0.101010, "38": 0.101010, "39": 0.101010, "40": 0.101010, "41": 0.101010, "42": 0.101010, "43": 0.101010, "44": 0.101010, "45": 0.135493, "46": 0.135493, "47": 0.079937, "48": 0.079937, "49": 0.123416, "50": 0.123416, "51": 0.077961, "52": 0.077961, "53": 0.077961, "54": 0.077961, "55": 0.077961, "56": 0.277961, "57": 0.277961, "58": 0.368870, "59": 0.368870, "60": 0.401128, "61": 0.201128, "62": 0.201128, "63": 0.201128, "64": 0.201128, "65": 0.201128, "66": 0.201128, "67": 0.201128, "68": 0.534462, "69": 0.443552, "70": 0.443552, "71": 0.110219, "72": 0.066741, "73": 0.209598, "74": 0.275115, "75": 0.275115, "76": 0.346544, "77": 0.346544, "78": 0.346544, "79": 0.346544, "80": 0.256318, "81": 0.256318, "82": 0.256318, "83": 0.256318, "84": 0.156318, "85": 0.156318, "86": 0.156318, "87": 0.156318, "88": 0.156318, "89": 0.218818, "90": 0.147390, "91": 0.115132, "92": 0.115132, "93": 0.115132, "94": 0.115132, "95": 0.115132, "96": 0.115132, "97": 0.115132, "98": 0.165132, "99": 0.179167, "100": 0.179167, "101": 0.179167, "102": 0.179167, "103": 0.179167, "104": 0.179167, "105": 0.116667, "106": 0.116667, "107": 0.316667, "108": 0.316667, "109": 0.316667, "110": 0.316667, "111": 0.316667, "112": 0.116667, "113": 0.116667, "114": 0.050000, "115": 0.050000, "116": 0.050000, "117": 0.050000, "121": 0.076923, "122": 0.076923, "123": 0.076923, "124": 0.076923, "125": 0.143590, "126": 0.143590, "127": 0.143590, "128": 0.143590, "129": 0.254701, "130": 0.294701, "131": 0.294701, "132": 0.294701, "133": 0.294701, "134": 0.217778, "135": 0.217778, "136": 0.217778, "137": 0.217778, "138": 0.106667, "139": 0.106667, "140": 0.040000, "141": 0.040000, "142": 0.040000, "143": 0.040000, "144": 0.040000, "145": 0.040000, "146": 0.040000, "147": 0.040000, "148": 0.040000, "149": 0.040000, "150": 0.040000, "151": 0.040000, "152": 0.040000, "153": 0.040000, "154": 0.182857, "155": 0.142857, "156": 0.142857, "157": 0.142857, "158": 0.142857, "159": 0.142857, "160": 0.142857, "165": 0.058824, "166": 0.058824, "167": 0.058824, "168": 0.058824, "169": 0.058824, "170": 0.058824, "171": 0.058824, "172": 0.100490, "173": 0.100490, "174": 0.100490, "175": 0.100490, "176": 0.100490, "177": 0.100490, "178": 0.100490, "179": 0.100490, "180": 0.100490, "181": 0.100490, "182": 0.041667, "183": 0.041667, "184": 0.041667, "185": 0.104167, "186": 0.104167, "187": 0.104167, "188": 0.104167, "189": 0.104167, "190": 0.104167, "191": 0.104167, "192": 0.104167, "193": 0.104167, "194": 0.144167, "195": 0.144167, "196": 0.158056, "197": 0.158056, "198": 0.191389, "199": 0.191389, "200": 0.191389, "201": 0.128889, "202": 0.128889, "203": 0.128889, "204": 0.128889, "205": 0.128889, "206": 0.128889, "207": 0.128889, "208": 0.128889, "209": 0.128889, "210": 0.128889, "211": 0.128889, "212": 0.128889, "213": 0.128889, "214": 0.073333, "215": 0.073333, "216": 0.073333, "217": 0.073333, "218": 0.073333, "219": 0.033333, "220": 0.033333, "221": 0.033333, "222": 0.033333, "223": 0.076812, "224": 0.076812, "225": 0.076812, "226": 0.076812, "227": 0.076812, "228": 0.043478, "229": 0.073781, "230": 0.073781, "231": 0.073781, "232": 0.073781, "233": 0.073781, "234": 0.073781, "235": 0.073781, "236": 0.073781, "237": 0.073781, "238": 0.073781, "239": 0.073781, "240": 0.073781, "241": 0.073781, "242": 0.073781, "243": 0.073781, "244": 0.073781, "245": 0.073781, "246": 0.030303, "247": 0.030303, "248": 0.071970, "249": 0.071970, "250": 0.071970, "251": 0.071970, "252": 0.071970, "253": 0.071970, "254": 0.071970, "255": 0.071970, "256": 0.071970, "257": 0.071970, "258": 0.071970, "259": 0.109007, "260": 0.209007, "261": 0.209007, "262": 0.289815, "263": 0.289815, "264": 0.289815, "265": 0.289815, "266": 0.289815, "267": 0.289815, "268": 0.289815, "269": 0.289815, "270": 0.189815, "271": 0.078704, "272": 0.084656, "273": 0.084656, "274": 0.084656, "275": 0.084656, "276": 0.084656, "277": 0.084656, "278": 0.084656, "279": 0.084656, "280": 0.084656, "281": 0.084656, "282": 0.084656, "283": 0.084656, "284": 0.084656, "285": 0.084656, "286": 0.047619, "287": 0.114286, "288": 0.114286, "289": 0.114286, "290": 0.173109, "291": 0.173109, "292": 0.173109, "293": 0.125490, "294": 0.125490, "295": 0.125490, "296": 0.125490, "297": 0.125490, "298": 0.125490, "299": 0.125490, "300": 0.125490, "301": 0.125490, "302": 0.125490, "303": 0.458824, "304": 0.458824, "305": 0.458824, "306": 0.161204, "307": 0.102381, "308": 0.102381, "309": 0.102381, "310": 0.102381, "311": 0.102381, "312": 0.102381, "313": 0.602381, "314": 0.669048, "315": 0.169048, "316": 0.169048, "317": 0.102381, "318": 0.102381, "319": 0.102381, "320": 0.102381, "321": 0.102381, "322": 0.102381, "323": 0.102381, "324": 0.102381, "325": 0.102381, "326": 0.102381, "327": 0.102381, "328": 0.102381, "329": 0.035714, "330": 0.035714, "331": 0.035714, "332": 0.035714, "333": 0.035714, "366": 0.035714, "367": 0.035714, "368": 0.035714, "369": 0.035714, "370": 0.035714, "371": 0.035714, "372": 0.035714, "373": 0.035714, "374": 0.035714, "375": 0.035714, "376": 0.035714, "377": 0.035714, "378": 0.035714, "379": 0.035714, "380": 0.035714, "381": 0.035714, "382": 0.074176, "383": 0.074176, "384": 0.074176, "385": 0.074176, "386": 0.074176, "387": 0.074176, "388": 0.074176, "389": 0.074176, "390": 0.074176, "391": 0.074176, "392": 0.074176, "393": 0.074176, "394": 0.038462, "395": 0.038462, "396": 0.038462, "397": 0.038462, "398": 0.038462, "399": 0.038462, "400": 0.091093, "401": 0.091093, "402": 0.091093, "403": 0.091093, "404": 0.091093, "405": 0.091093, "406": 0.091093, "407": 0.091093, "408": 0.052632, "409": 0.052632, "410": 0.052632, "411": 0.052632, "412": 0.052632, "413": 0.052632, "414": 0.052632, "415": 0.085965, "416": 0.125965, "417": 0.197393, "418": 0.197393, "419": 0.144762, "420": 0.144762, "421": 0.144762, "422": 0.144762, "423": 0.144762, "424": 0.144762, "425": 0.144762, "426": 0.144762, "427": 0.144762, "428": 0.144762, "429": 0.144762, "430": 0.144762, "431": 0.073333, "432": 0.073333, "433": 0.073333, "434": 0.109048, "435": 0.109048, "436": 0.109048, "437": 0.109048, "438": 0.109048, "439": 0.109048, "440": 0.220159, "441": 0.180159, "442": 0.180159, "443": 0.180159, "444": 0.180159, "445": 0.289683, "446": 0.289683, "447": 0.320933, "448": 0.320933, "449": 0.209821, "450": 0.209821, "451": 0.209821, "452": 0.066964, "453": 0.066964, "454": 0.066964, "455": 0.066964, "456": 0.066964, "457": 0.066964, "458": 0.066964, "459": 0.066964, "460": 0.066964, "461": 0.114583, "462": 0.078869, "463": 0.078869, "464": 0.078869, "465": 0.078869, "466": 0.155792, "467": 0.155792, "468": 0.155792, "469": 0.155792, "470": 0.155792, "471": 0.155792, "472": 0.155792, "473": 0.155792, "474": 0.155792, "475": 0.155792, "476": 0.155792, "477": 0.155792, "478": 0.155792, "479": 0.047619, "480": 0.047619, "481": 0.047619, "486": 0.043478, "487": 0.043478, "488": 0.105978, "489": 0.105978, "490": 0.105978, "491": 0.105978, "492": 0.105978, "493": 0.105978, "494": 0.105978, "495": 0.305978, "496": 0.305978, "497": 0.505978, "498": 0.505978, "499": 0.538236, "500": 0.338236, "501": 0.338236, "502": 0.138236, "503": 0.138236, "504": 0.138236, "505": 0.138236, "506": 0.138236, "507": 0.138236, "508": 0.138236, "509": 0.094758, "510": 0.094758, "511": 0.094758, "512": 0.094758, "513": 0.094758, "514": 0.094758, "515": 0.094758, "516": 0.094758, "517": 0.094758, "518": 0.138236, "519": 0.138236, "520": 0.075736, "521": 0.075736, "522": 0.200736, "523": 0.200736, "524": 0.200736, "525": 0.200736, "526": 0.200736, "527": 0.200736, "528": 0.291645, "529": 0.358312, "530": 0.201054, "531": 0.201054, "532": 0.201054, "533": 0.201054, "534": 0.201054, "535": 0.201054, "536": 0.201054, "537": 0.201054, "538": 0.201054, "539": 0.110145, "540": 0.276812, "541": 0.233333, "542": 0.233333, "543": 0.233333, "544": 0.166667, "545": 0.166667, "546": 0.166667, "547": 0.166667, "548": 0.184524, "549": 0.184524, "550": 0.184524, "551": 0.184524, "552": 0.184524, "553": 0.184524, "554": 0.184524, "555": 0.041667, "556": 0.041667, "557": 0.041667, "558": 0.132576, "559": 0.185207, "560": 0.185207, "561": 0.185207, "562": 0.185207, "563": 0.185207, "564": 0.143541, "565": 0.143541, "566": 0.343541, "567": 0.343541, "568": 0.343541, "569": 0.252632, "570": 0.252632, "571": 0.052632, "572": 0.052632, "573": 0.052632, "574": 0.052632, "575": 0.052632, "576": 0.052632, "577": 0.084890, "578": 0.032258, "579": 0.032258, "580": 0.032258, "581": 0.032258, "582": 0.032258, "583": 0.032258, "584": 0.032258, "585": 0.032258, "586": 0.032258, "587": 0.087814, "588": 0.087814, "589": 0.087814, "590": 0.087814, "591": 0.087814, "592": 0.087814, "593": 0.087814, "594": 0.087814, "595": 0.159242, "596": 0.159242, "597": 0.159242, "598": 0.159242, "599": 0.159242, "600": 0.159242, "601": 0.159242, "602": 0.159242, "603": 0.202720, "604": 0.202720, "605": 0.397165, "606": 0.397165, "607": 0.397165, "608": 0.364907, "609": 0.043478, "610": 0.043478, "611": 0.043478, "612": 0.043478, "613": 0.043478, "614": 0.043478, "615": 0.043478, "616": 0.043478, "617": 0.043478, "618": 0.043478, "619": 0.043478, "620": 0.043478, "621": 0.043478, "622": 0.043478, "623": 0.043478, "624": 0.043478, "625": 0.043478, "629": 0.500000, "630": 0.500000, "675": 0.031250, "676": 0.102679, "677": 0.102679, "678": 0.102679, "679": 0.102679, "680": 0.102679, "681": 0.102679, "682": 0.102679, "683": 0.102679, "684": 0.102679, "685": 0.102679, "686": 0.245536, "687": 0.245536, "688": 0.245536, "689": 0.245536, "690": 0.174107, "691": 0.174107, "692": 0.174107, "693": 0.142361, "694": 0.142361, "695": 0.142361, "696": 0.142361, "697": 0.197917, "698": 0.197917, "699": 0.247917, "700": 0.247917, "701": 0.247917, "702": 0.136806, "703": 0.136806, "704": 0.136806, "705": 0.136806, "706": 0.136806, "707": 0.105556, "708": 0.105556, "709": 0.105556, "710": 0.138889, "711": 0.138889, "712": 0.138889, "713": 0.138889, "714": 0.138889, "715": 0.083333, "716": 0.083333, "717": 0.083333, "718": 0.083333, "719": 0.033333, "720": 0.065591, "721": 0.065591, "722": 0.065591, "723": 0.065591, "724": 0.065591, "725": 0.065591, "726": 0.065591, "727": 0.065591, "728": 0.065591, "729": 0.065591, "730": 0.065591, "731": 0.065591, "732": 0.065591, "733": 0.065591, "734": 0.065591, "735": 0.065591, "736": 0.065591, "737": 0.156500, "738": 0.156500, "739": 0.156500, "740": 0.123167, "741": 0.123167, "742": 0.123167, "743": 0.123167, "744": 0.123167, "745": 0.123167, "746": 0.265528, "747": 0.356437, "748": 0.265528, "749": 0.265528, "750": 0.307195, "751": 0.274937, "752": 0.274937, "753": 0.274937, "754": 0.274937, "755": 0.163826, "756": 0.163826, "757": 0.163826, "758": 0.072917, "759": 0.072917, "760": 0.072917, "761": 0.072917, "762": 0.072917, "763": 0.072917, "764": 0.072917, "765": 0.072917, "766": 0.072917, "767": 0.072917, "768": 0.072917, "769": 0.072917, "770": 0.072917, "771": 0.135417, "772": 0.135417, "773": 0.168750, "774": 0.127083, "775": 0.204006, "776": 0.294916, "777": 0.294916, "778": 0.263666, "779": 0.263666, "780": 0.263666, "781": 0.263666, "782": 0.263666, "783": 0.263666, "784": 0.263666, "785": 0.430332, "786": 0.430332, "787": 0.276923, "788": 0.200000, "789": 0.200000, "790": 0.200000, "791": 0.033333, "792": 0.033333, "793": 0.033333, "794": 0.033333, "795": 0.088889, "796": 0.088889, "797": 0.179798, "798": 0.179798, "799": 0.179798, "800": 0.179798, "801": 0.179798, "802": 0.179798, "803": 0.146465, "804": 0.146465, "805": 0.146465, "806": 0.146465, "807": 0.146465, "808": 0.055556, "809": 0.055556, "810": 0.055556, "811": 0.055556, "812": 0.055556, "813": 0.062500, "814": 0.062500, "815": 0.062500, "816": 0.062500, "817": 0.100962, "818": 0.100962, "819": 0.100962, "820": 0.100962, "821": 0.100962, "822": 0.100962, "823": 0.100962, "824": 0.100962, "825": 0.100962, "826": 0.100962, "827": 0.100962, "828": 0.100962, "829": 0.038462, "830": 0.038462, "831": 0.038462, "832": 0.038462, "833": 0.038462, "834": 0.038462, "835": 0.038462, "836": 0.038462, "837": 0.038462, "838": 0.038462, "839": 0.038462, "840": 0.075499, "841": 0.075499, "842": 0.075499, "843": 0.037037, "844": 0.037037, "845": 0.037037, "846": 0.572751, "847": 0.572751, "848": 0.072751, "849": 0.072751, "850": 0.072751, "851": 0.072751, "852": 0.072751, "853": 0.072751, "854": 0.072751, "855": 0.072751, "856": 0.072751, "857": 0.072751, "858": 0.072751, "859": 0.072751, "860": 0.072751, "861": 0.072751, "862": 0.072751, "863": 0.072751, "864": 0.072751, "865": 0.072751, "866": 0.072751, "867": 0.035714, "868": 0.035714, "869": 0.035714, "870": 0.035714, "871": 0.035714, "872": 0.035714, "873": 0.035714, "879": 0.034483, "880": 0.034483, "881": 0.034483, "882": 0.034483, "883": 0.034483, "884": 0.034483, "885": 0.034483, "886": 0.034483, "887": 0.034483, "888": 0.034483, "889": 0.034483, "890": 0.034483, "891": 0.034483, "892": 0.034483, "893": 0.034483, "894": 0.034483, "895": 0.034483, "896": 0.072944, "897": 0.139611, "898": 0.139611, "899": 0.139611, "900": 0.139611, "901": 0.282468, "902": 0.282468, "903": 0.282468, "904": 0.316951, "905": 0.316951, "906": 0.316951, "907": 0.316951, "908": 0.139611, "909": 0.139611, "910": 0.139611, "911": 0.139611, "912": 0.072944, "913": 0.072944, "914": 0.072944, "915": 0.072944, "916": 0.072944, "917": 0.072944, "918": 0.072944, "919": 0.072944, "920": 0.072944, "921": 0.072944, "922": 0.034483, "923": 0.034483, "924": 0.067816, "925": 0.115435, "926": 0.115435, "927": 0.115435, "928": 0.115435, "929": 0.115435, "930": 0.115435, "931": 0.155435, "932": 0.155435, "933": 0.120952, "934": 0.120952, "935": 0.120952, "936": 0.120952, "937": 0.170952, "938": 0.170952, "939": 0.216407, "940": 0.283074, "941": 0.283074, "942": 0.283074, "943": 0.283074, "944": 0.283074, "945": 0.283074, "946": 0.235455, "947": 0.235455, "948": 0.235455, "949": 0.235455, "950": 0.235455, "951": 0.235455, "952": 0.235455, "953": 0.235455, "954": 0.202121, "955": 0.135455, "956": 0.095455, "957": 0.045455, "958": 0.045455, "959": 0.045455, "960": 0.045455, "964": 0.047619, "965": 0.047619, "966": 0.047619, "967": 0.047619, "968": 0.047619, "969": 0.047619, "970": 0.084656, "971": 0.084656, "972": 0.084656, "973": 0.084656, "974": 0.084656, "975": 0.084656, "976": 0.084656, "977": 0.084656, "978": 0.084656, "979": 0.084656, "980": 0.120370, "981": 0.120370, "982": 0.287037, "983": 0.287037, "984": 0.287037, "985": 0.239418, "986": 0.239418, "987": 0.239418, "988": 0.109788, "989": 0.109788, "990": 0.109788, "991": 0.109788, "992": 0.109788, "993": 0.109788, "994": 0.109788, "995": 0.109788, "996": 0.109788, "997": 0.072751, "998": 0.072751, "999": 0.072751, "1000": 1218.841270, "inf": 31428}
        histogram = {
            "0": 0.066667, "1": 0.066667, "2": 0.066667, "3": 0.066667, "4": 0.066667, "5": 0.066667, "6": 0.066667, "7": 0.066667, "8": 0.209524, "9": 0.276190, "10": 0.276190, "11": 0.276190, "12": 0.276190, "13": 0.276190, "14": 0.359524, "15": 0.150000, "16": 0.150000, "17": 0.150000, "18": 0.150000, "19": 0.150000, "20": 0.150000, "21": 0.150000, "22": 0.150000, "23": 0.364286, "24": 0.297619, "25": 0.297619, "26": 0.214286, "27": 0.214286, "28": 0.214286, "29": 0.315296, "30": 0.172439, "31": 0.172439, "32": 0.172439, "33": 0.172439, "34": 0.172439, "35": 0.172439, "36": 0.172439, "37": 0.101010, "38": 0.101010, "39": 0.101010, "40": 0.101010, "41": 0.101010, "42": 0.101010, "43": 0.101010, "44": 0.101010, "45": 0.135493, "46": 0.135493, "47": 0.081875, "48": 0.081875, "49": 0.125354, "50": 0.125354, "51": 0.079899, "52": 0.079899, "53": 0.079899, "54": 0.079899, "55": 0.079899, "56": 0.279899, "57": 0.279899, "58": 0.370808, "59": 0.370808, "60": 0.403066, "61": 0.203066, "62": 0.203066, "63": 0.203066, "64": 0.203066, "65": 0.203066, "66": 0.203066, "67": 0.203066, "68": 0.536399, "69": 0.445490, "70": 0.445490, "71": 0.112157, "72": 0.068679, "73": 0.211536, "74": 0.277053, "75": 0.277053, "76": 0.348482, "77": 0.348482, "78": 0.348482, "79": 0.349516, "80": 0.259290, "81": 0.259290, "82": 0.259290, "83": 0.259290, "84": 0.159290, "85": 0.159290, "86": 0.159290, "87": 0.159290, "88": 0.159290, "89": 0.221790, "90": 0.150362, "91": 0.118104, "92": 0.118104, "93": 0.118104, "94": 0.120474, "95": 0.120474, "96": 0.120474, "97": 0.120474, "98": 0.170474, "99": 0.185118, "100": 0.185118, "101": 0.185722, "102": 0.185722, "103": 0.186284, "104": 0.186284, "105": 0.123784, "106": 0.123784, "107": 0.323784, "108": 0.323784, "109": 0.323784, "110": 0.323784, "111": 0.323784, "112": 0.123784, "113": 0.123784, "114": 0.057117, "115": 0.057117, "116": 0.057117, "117": 0.057117, "118": 0.007117, "119": 0.007117, "120": 0.007117, "121": 0.084040, "122": 0.084040, "123": 0.084040, "124": 0.084040, "125": 0.150707, "126": 0.150707, "127": 0.150707, "128": 0.151220, "129": 0.262331, "130": 0.302331, "131": 0.302331, "132": 0.302331, "133": 0.302331, "134": 0.225408, "135": 0.225408, "136": 0.225408, "137": 0.225408, "138": 0.114297, "139": 0.114297, "140": 0.047631, "141": 0.047631, "142": 0.047631, "143": 0.047631, "144": 0.048091, "145": 0.048483, "146": 0.049384, "147": 0.049384, "148": 0.049384, "149": 0.049384, "150": 0.049384, "151": 0.049384, "152": 0.049384, "153": 0.049384, "154": 0.192241, "155": 0.152241, "156": 0.152241, "157": 0.152241, "158": 0.152590, "159": 0.152590, "160": 0.152938, "161": 0.010081, "162": 0.010081, "163": 0.010081, "164": 0.010081, "165": 0.068905, "166": 0.068905, "167": 0.068905, "168": 0.068905, "169": 0.068905, "170": 0.068905, "171": 0.068905, "172": 0.110571, "173": 0.110571, "174": 0.110571, "175": 0.110571, "176": 0.110571, "177": 0.110571, "178": 0.110571, "179": 0.110571, "180": 0.110571, "181": 0.110909, "182": 0.052086, "183": 0.052086, "184": 0.052086, "185": 0.114586, "186": 0.114586, "187": 0.114586, "188": 0.114586, "189": 0.114586, "190": 0.114586, "191": 0.115478, "192": 0.115782, "193": 0.116386, "194": 0.156386, "195": 0.156386, "196": 0.170544, "197": 0.170544, "198": 0.203878, "199": 0.203878, "200": 0.203878, "201": 0.141378, "202": 0.141378, "203": 0.141378, "204": 0.141378, "205": 0.141378, "206": 0.141378, "207": 0.141378, "208": 0.141378, "209": 0.141378, "210": 0.141378, "211": 0.141378, "212": 0.141636, "213": 0.141636, "214": 0.086081, "215": 0.086338, "216": 0.086338, "217": 0.086338, "218": 0.086338, "219": 0.046338, "220": 0.046338, "221": 0.046338, "222": 0.046338, "223": 0.089816, "224": 0.089816, "225": 0.089816, "226": 0.089816, "227": 0.089816, "228": 0.056483, "229": 0.086786, "230": 0.086786, "231": 0.086786, "232": 0.086786, "233": 0.086786, "234": 0.086786, "235": 0.087025, "236": 0.087245, "237": 0.087477, "238": 0.087477, "239": 0.087477, "240": 0.087477, "241": 0.087477, "242": 0.087477, "243": 0.087477, "244": 0.087477, "245": 0.087477, "246": 0.043999, "247": 0.043999, "248": 0.085665, "249": 0.085665, "250": 0.085665, "251": 0.085665, "252": 0.085665, "253": 0.085665, "254": 0.085665, "255": 0.085873, "256": 0.085873, "257": 0.085873, "258": 0.086079, "259": 0.123116, "260": 0.223116, "261": 0.223116, "262": 0.304129, "263": 0.304129, "264": 0.304129, "265": 0.304333, "266": 0.304333, "267": 0.304333, "268": 0.304333, "269": 0.304333, "270": 0.204333, "271": 0.093222, "272": 0.099377, "273": 0.099377, "274": 0.099377, "275": 0.099377, "276": 0.099377, "277": 0.099377, "278": 0.099377, "279": 0.099569, "280": 0.099929, "281": 0.099929, "282": 0.100306, "283": 0.100663, "284": 0.100663, "285": 0.101040, "286": 0.064399, "287": 0.131066, "288": 0.131066, "289": 0.131066, "290": 0.189889, "291": 0.189889, "292": 0.190063, "293": 0.142444, "294": 0.142444, "295": 0.142444, "296": 0.142444, "297": 0.142444, "298": 0.142444, "299": 0.142444, "300": 0.142444, "301": 0.142444, "302": 0.142444, "303": 0.142444, "304": 0.142444, "305": 0.142444, "306": 0.178158, "307": 0.119334, "308": 0.119334, "309": 0.119334, "310": 0.119334, "311": 0.119334, "312": 0.119504, "313": 0.119504, "314": 0.186340, "315": 0.186340, "316": 0.186340, "317": 0.119673, "318": 0.119840, "319": 0.119840, "320": 0.119840, "321": 0.120001, "322": 0.120312, "323": 0.120787, "324": 0.121271, "325": 0.121888, "326": 0.122049, "327": 0.122049, "328": 0.122049, "329": 0.055383, "330": 0.055383, "331": 0.055535, "332": 0.055837, "333": 0.055988, "334": 0.020274, "335": 0.020274, "336": 0.020573, "337": 0.020573, "338": 0.020722, "339": 0.020871, "340": 0.020871, "341": 0.020871, "342": 0.020871, "343": 0.020871, "344": 0.020871, "345": 0.020871, "346": 0.021019, "347": 0.021165, "348": 0.021312, "349": 0.021312, "350": 0.021312, "351": 0.021312, "352": 0.021312, "353": 0.021312, "354": 0.021459, "355": 0.021459, "356": 0.021459, "357": 0.021604, "358": 0.021604, "359": 0.021749, "360": 0.021749, "361": 0.021749, "362": 0.021749, "363": 0.021749, "364": 0.021749, "365": 0.021749, "366": 0.057463, "367": 0.057463, "368": 0.057597, "369": 0.057873, "370": 0.058151, "371": 0.058423, "372": 0.058554, "373": 0.058821, "374": 0.058952, "375": 0.059090, "376": 0.059220, "377": 0.059360, "378": 0.059360, "379": 0.059360, "380": 0.059491, "381": 0.059491, "382": 0.097952, "383": 0.097952, "384": 0.097952, "385": 0.098082, "386": 0.098082, "387": 0.098082, "388": 0.098082, "389": 0.098082, "390": 0.098210, "391": 0.098467, "392": 0.098467, "393": 0.098467, "394": 0.062752, "395": 0.062752, "396": 0.062752, "397": 0.062752, "398": 0.062880, "399": 0.063008, "400": 0.115640, "401": 0.115640, "402": 0.115640, "403": 0.115640, "404": 0.115766, "405": 0.115766, "406": 0.115766, "407": 0.115766, "408": 0.077430, "409": 0.077556, "410": 0.077556, "411": 0.077556, "412": 0.077798, "413": 0.077798, "414": 0.077923, "415": 0.111374, "416": 0.151742, "417": 0.223171, "418": 0.223646, "419": 0.171014, "420": 0.171014, "421": 0.171014, "422": 0.171014, "423": 0.171014, "424": 0.171014, "425": 0.171014, "426": 0.171014, "427": 0.171014, "428": 0.171014, "429": 0.171014, "430": 0.171014, "431": 0.099700, "432": 0.099700, "433": 0.099700, "434": 0.135415, "435": 0.135415, "436": 0.135415, "437": 0.135528, "438": 0.135528, "439": 0.135528, "440": 0.135641, "441": 0.095754, "442": 0.095754, "443": 0.095754, "444": 0.095867, "445": 0.062534, "446": 0.062646, "447": 0.093896, "448": 0.093896, "449": 0.093896, "450": 0.094007, "451": 0.094881, "452": 0.094991, "453": 0.095206, "454": 0.095318, "455": 0.095427, "456": 0.095863, "457": 0.095969, "458": 0.096075, "459": 0.096295, "460": 0.096295, "461": 0.144020, "462": 0.108305, "463": 0.108305, "464": 0.108305, "465": 0.108305, "466": 0.185228, "467": 0.185228, "468": 0.185333, "469": 0.185437, "470": 0.185542, "471": 0.185647, "472": 0.185647, "473": 0.185752, "474": 0.185752, "475": 0.185752, "476": 0.185752, "477": 0.185752, "478": 0.185752, "479": 0.077579, "480": 0.077579, "481": 0.077579, "482": 0.029960, "483": 0.030063, "484": 0.030166, "485": 0.030166, "486": 0.073645, "487": 0.073645, "488": 0.136145, "489": 0.136145, "490": 0.136145, "491": 0.136145, "492": 0.136145, "493": 0.136145, "494": 0.136246, "495": 0.136246, "496": 0.136246, "497": 0.136246, "498": 0.136246, "499": 0.168504, "500": 0.168605, "501": 0.168706, "502": 0.168706, "503": 0.168706, "504": 0.168706, "505": 0.168803, "506": 0.168803, "507": 0.168902, "508": 0.168998, "509": 0.125715, "510": 0.125715, "511": 0.125715, "512": 0.126010, "513": 0.126109, "514": 0.126499, "515": 0.126499, "516": 0.126499, "517": 0.126499, "518": 0.169977, "519": 0.170072, "520": 0.107572, "521": 0.107760, "522": 0.107760, "523": 0.107760, "524": 0.107760, "525": 0.107760, "526": 0.107854, "527": 0.107854, "528": 0.107854, "529": 0.174520, "530": 0.142356, "531": 0.142542, "532": 0.142635, "533": 0.142635, "534": 0.142635, "535": 0.142635, "536": 0.142635, "537": 0.142635, "538": 0.142635, "539": 0.142635, "540": 0.184302, "541": 0.140823, "542": 0.140823, "543": 0.140823, "544": 0.074157, "545": 0.074157, "546": 0.074157, "547": 0.074431, "548": 0.074608, "549": 0.074608, "550": 0.074790, "551": 0.075147, "552": 0.075236, "553": 0.075325, "554": 0.075502, "555": 0.075679, "556": 0.075679, "557": 0.075679, "558": 0.075679, "559": 0.128310, "560": 0.128310, "561": 0.128310, "562": 0.128310, "563": 0.126372, "564": 0.084706, "565": 0.084706, "566": 0.084706, "567": 0.084706, "568": 0.084706, "569": 0.084706, "570": 0.084706, "571": 0.084706, "572": 0.084706, "573": 0.084706, "574": 0.084791, "575": 0.084791, "576": 0.084791, "577": 0.117049, "578": 0.064417, "579": 0.064502, "580": 0.064502, "581": 0.064502, "582": 0.064502, "583": 0.064502, "584": 0.064586, "585": 0.064586, "586": 0.064671, "587": 0.120311, "588": 0.120477, "589": 0.120561, "590": 0.120723, "591": 0.120723, "592": 0.120885, "593": 0.120885, "594": 0.120885, "595": 0.192395, "596": 0.192477, "597": 0.192720, "598": 0.192720, "599": 0.192720, "600": 0.192720, "601": 0.192800, "602": 0.192800, "603": 0.236278, "604": 0.236358, "605": 0.180803, "606": 0.180803, "607": 0.180803, "608": 0.148624, "609": 0.077274, "610": 0.077353, "611": 0.077353, "612": 0.077511, "613": 0.077590, "614": 0.077669, "615": 0.077826, "616": 0.077826, "617": 0.077826, "618": 0.077826, "619": 0.077826, "620": 0.077826, "621": 0.077904, "622": 0.078060, "623": 0.078060, "624": 0.078060, "625": 0.078138, "626": 0.034660, "627": 0.034815, "628": 0.034892, "629": 0.035045, "630": 0.035045, "631": 0.035276, "632": 0.035276, "633": 0.035656, "634": 0.035811, "635": 0.035961, "636": 0.036114, "637": 0.036114, "638": 0.036114, "639": 0.036266, "640": 0.036266, "641": 0.036266, "642": 0.036417, "643": 0.036568, "644": 0.036568, "645": 0.036568, "646": 0.036568, "647": 0.036568, "648": 0.036568, "649": 0.036643, "650": 0.036791, "651": 0.036791, "652": 0.036791, "653": 0.036791, "654": 0.036864, "655": 0.036937, "656": 0.036937, "657": 0.037158, "658": 0.037231, "659": 0.037231, "660": 0.037377, "661": 0.037377, "662": 0.037377, "663": 0.037450, "664": 0.037523, "665": 0.037523, "666": 0.037523, "667": 0.037595, "668": 0.037668, "669": 0.037668, "670": 0.037668, "671": 0.037810, "672": 0.037882, "673": 0.037882, "674": 0.037882, "675": 0.069344, "676": 0.069344, "677": 0.069486, "678": 0.069557, "679": 0.069629, "680": 0.069770, "681": 0.069770, "682": 0.069909, "683": 0.069909, "684": 0.070051, "685": 0.070120, "686": 0.070257, "687": 0.070327, "688": 0.070396, "689": 0.070396, "690": 0.070396, "691": 0.070396, "692": 0.070465, "693": 0.070533, "694": 0.070602, "695": 0.070602, "696": 0.070671, "697": 0.126226, "698": 0.126226, "699": 0.176226, "700": 0.176226, "701": 0.176294, "702": 0.176294, "703": 0.176362, "704": 0.176362, "705": 0.176362, "706": 0.176429, "707": 0.145179, "708": 0.145382, "709": 0.145382, "710": 0.178716, "711": 0.178783, "712": 0.178850, "713": 0.178850, "714": 0.178982, "715": 0.123493, "716": 0.123559, "717": 0.123959, "718": 0.124025, "719": 0.074158, "720": 0.106483, "721": 0.106483, "722": 0.106615, "723": 0.106880, "724": 0.107012, "725": 0.107078, "726": 0.107143, "727": 0.107143, "728": 0.107143, "729": 0.107275, "730": 0.107340, "731": 0.107470, "732": 0.107535, "733": 0.107665, "734": 0.107730, "735": 0.107989, "736": 0.108117, "737": 0.108311, "738": 0.108374, "739": 0.108503, "740": 0.075170, "741": 0.075234, "742": 0.075298, "743": 0.075298, "744": 0.075298, "745": 0.075298, "746": 0.106612, "747": 0.106612, "748": 0.106677, "749": 0.106677, "750": 0.148343, "751": 0.116148, "752": 0.116148, "753": 0.116211, "754": 0.116399, "755": 0.116461, "756": 0.116523, "757": 0.116649, "758": 0.116649, "759": 0.116774, "760": 0.116960, "761": 0.117147, "762": 0.117147, "763": 0.117396, "764": 0.117584, "765": 0.117645, "766": 0.117645, "767": 0.117645, "768": 0.117706, "769": 0.117892, "770": 0.118016, "771": 0.118079, "772": 0.118141, "773": 0.151475, "774": 0.109990, "775": 0.110051, "776": 0.110112, "777": 0.110296, "778": 0.079106, "779": 0.079167, "780": 0.079227, "781": 0.079227, "782": 0.079287, "783": 0.079347, "784": 0.079407, "785": 0.079589, "786": 0.079649, "787": 0.079709, "788": 0.079769, "789": 0.079769, "790": 0.079769, "791": 0.079889, "792": 0.080009, "793": 0.080009, "794": 0.080009, "795": 0.080068, "796": 0.080068, "797": 0.080128, "798": 0.080128, "799": 0.080186, "800": 0.080186, "801": 0.080363, "802": 0.080363, "803": 0.047088, "804": 0.047088, "805": 0.047088, "806": 0.047088, "807": 0.047088, "808": 0.047088, "809": 0.047206, "810": 0.047265, "811": 0.047265, "812": 0.047265, "813": 0.047323, "814": 0.047323, "815": 0.047323, "816": 0.047323, "817": 0.085784, "818": 0.085784, "819": 0.085784, "820": 0.085784, "821": 0.085784, "822": 0.085784, "823": 0.085784, "824": 0.085784, "825": 0.085784, "826": 0.085784, "827": 0.085900, "828": 0.085900, "829": 0.085900, "830": 0.085958, "831": 0.086016, "832": 0.086016, "833": 0.086016, "834": 0.086131, "835": 0.086131, "836": 0.086189, "837": 0.086189, "838": 0.086189, "839": 0.086189, "840": 0.123283, "841": 0.123341, "842": 0.123398, "843": 0.085051, "844": 0.085108, "845": 0.085108, "846": 0.120879, "847": 0.120937, "848": 0.121108, "849": 0.121165, "850": 0.121165, "851": 0.121221, "852": 0.121221, "853": 0.121278, "854": 0.121278, "855": 0.121278, "856": 0.121278, "857": 0.121334, "858": 0.121559, "859": 0.121616, "860": 0.121616, "861": 0.121671, "862": 0.121728, "863": 0.121783, "864": 0.121838, "865": 0.121838, "866": 0.121894, "867": 0.085024, "868": 0.085024, "869": 0.085080, "870": 0.085135, "871": 0.085245, "872": 0.085245, "873": 0.085245, "874": 0.049807, "875": 0.049807, "876": 0.049862, "877": 0.050081, "878": 0.050245, "879": 0.084728, "880": 0.084837, "881": 0.084837, "882": 0.084837, "883": 0.084892, "884": 0.085001, "885": 0.085001, "886": 0.085001, "887": 0.085055, "888": 0.085108, "889": 0.085108, "890": 0.085108, "891": 0.085162, "892": 0.085162, "893": 0.085162, "894": 0.085269, "895": 0.085269, "896": 0.123731, "897": 0.123784, "898": 0.123837, "899": 0.123837, "900": 0.123997, "901": 0.124103, "902": 0.124103, "903": 0.124264, "904": 0.158852, "905": 0.158906, "906": 0.159012, "907": 0.159225, "908": 0.124794, "909": 0.124847, "910": 0.124899, "911": 0.125056, "912": 0.125056, "913": 0.125108, "914": 0.125108, "915": 0.125108, "916": 0.125160, "917": 0.125213, "918": 0.125266, "919": 0.125318, "920": 0.125420, "921": 0.125524, "922": 0.087166, "923": 0.087218, "924": 0.120707, "925": 0.120811, "926": 0.120863, "927": 0.120966, "928": 0.121018, "929": 0.121070, "930": 0.121070, "931": 0.161173, "932": 0.161224, "933": 0.126792, "934": 0.126894, "935": 0.126946, "936": 0.126997, "937": 0.127048, "938": 0.127099, "939": 0.172605, "940": 0.172758, "941": 0.172758, "942": 0.172758, "943": 0.172910, "944": 0.173011, "945": 0.173061, "946": 0.173061, "947": 0.173162, "948": 0.173212, "949": 0.173212, "950": 0.173262, "951": 0.173363, "952": 0.173363, "953": 0.173413, "954": 0.140130, "955": 0.140180, "956": 0.100280, "957": 0.100379, "958": 0.100528, "959": 0.100528, "960": 0.100627, "961": 0.055222, "962": 0.055272, "963": 0.055422, "964": 0.055570, "965": 0.055570, "966": 0.055819, "967": 0.055819, "968": 0.055819, "969": 0.055819, "970": 0.092905, "971": 0.093053, "972": 0.093053, "973": 0.093102, "974": 0.093152, "975": 0.093250, "976": 0.093348, "977": 0.093445, "978": 0.093542, "979": 0.093641, "980": 0.129404, "981": 0.129500, "982": 0.129598, "983": 0.129695, "984": 0.129791, "985": 0.129889, "986": 0.129986, "987": 0.130034, "988": 0.167071, "989": 0.167168, "990": 0.167264, "991": 0.167264, "992": 0.167264, "993": 0.167360, "994": 0.167456, "995": 0.167503, "996": 0.167503, "997": 0.130466, "998": 0.130562, "999": 0.130562, "1000": 1224.995850, "inf": 31428}
        histogram = decode_json_histogram(histogram)
    plot_histogram(histogram)
    plot_miss_rate_curve(histogram)

if __name__ == "__main__":
    main()
